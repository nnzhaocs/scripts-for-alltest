\section{Conclusion}
\label{sec:conclusion}
%\NZ{put in background or intro, conclusion, discussion?}
In this paper, we presented \sysname, a new Docker registry architecture that integrates caching and deduplication with the Docker registry to
improve the registry's performance and decrease the backend storage capacity requirement. 
%The layer buffer holds hot layers that belong to active users.
%To improve the capacity limitation of the main memory cache, we utilize flash memory to store unique files since it offers fast random read access.
%The utilization of flash memory to store unique files not only mitigates the capacity limitation of the main memory cache, it also offers fast random read accesses.
% a on a distributed flash-based store.  \\
\sysname~leverages a two-tier heterogeneous cache architecture to efficiently improve cache space 
utilization. The cache applies a user behavior based cache replacement algorithm to improve cache hit ratio.


\section{Discussion}
\label{sec:discussion}
In this section, we discuss issues and concerns 
%about~\sysname~
and additional optimizations to help speed up~\sysname.
\paragraph{Further utilize user behavior pattern to accurately predict layer access pattern}
We observed that although half of the users have only one repository with a few layers, there are some users who own many layers. 
For future work, we will focus on precisely predicting which layers will be accessed by active users and prefetch them in the cache for later accesses.
We also observed that 

%\paragraph{How many more "layers" can fit in file cache compared with naively storing layers in file cache}
%\paragraph{Can we do client-side deduplication to remove duplicates}
\paragraph{Docker client-side deduplication: viability and implications}
Client-side deduplication affects the container runtime. 
Because performing inline file-level deduplication on the Docker client side requires intensive file 
fingerprint calculations and file fingerprint lookup, which will slow down container runtime performance.
For future work, we will offload client-side deduplication to server-side, meaning that the 
Docker client doesn't need to do deduplication because
it can push all its created images to the registry and the registry eliminates duplicate files for the client. 
In this case, Docker clients use the registry as a washing machine to launder duplicate files in their local file systems without performance overhead.


%
%Data deduplication has proven itself as a highly effective technique for
%eliminating data redundancy.
%%
%In spite of being successfully applied to numerous real datasets, deduplication
%bypassed the promising area of Docker images.
%%
%In this paper, we propose to fix this striking omission.
%%
%We analyzed over 1.7 million real-world Docker image layers and identified that
%file-level deduplication can eliminate 96.8\% of the files resulting in
%a capacity-wise deduplication ratio of 6.9$\times$.
%%
%We proceeded with a simulation-based evaluation of the impact of deduplication
%on the Docker registry performance.
%%
%We found that restoring large layers from registry can slow down \texttt{pull}
%performance due to compression overhead. To speed up \sysname, we suggested several
%optimizations.
%%
%%\VT{After Section 4 is ready, we might add here one interesting finding from
%%simulation.}\NZ{addressed}
%%
%Our findings justify and lay way for integrating deduplication in the Docker registry.
%
%\paragraph{Future work}
%%
%In the future, we plan to investigate the effectiveness of sub-file deduplication for
%Docker images and to extend our analysis to more image tags rather than just the \texttt{latest} tag.
%%
%We also plan to proceed with a complete implementation of \sysname.
%
